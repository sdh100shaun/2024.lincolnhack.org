"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_cdk_lib_1 = require("aws-cdk-lib");
const s3_static_site_with_cloudfront_1 = require("./stacks/s3-static-site-with-cloudfront");
const statemachine_1 = require("./stacks/statemachine");
const oidcrole_1 = require("./stacks/oidcrole");
const artefact_bucket_1 = require("./stacks/artefact-bucket");
const app = new aws_cdk_lib_1.App();
new s3_static_site_with_cloudfront_1.StaticSite(app, "site", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    domainName: "2024.lincolnhack.org",
    hostedZoneId: "Z084830024CM67I9CAD70",
});
new s3_static_site_with_cloudfront_1.StaticSite(app, "demosite", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    domainName: "demo.2024.lincolnhack.org",
    hostedZoneId: "Z084830024CM67I9CAD70",
});
new statemachine_1.StateMachineStack(app, "StateMachine", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    domainName: "2024.lincolnhack.org",
    hostedZoneId: "Z084830024CM67I9CAD70",
});
new oidcrole_1.default(app, "OidcConnection", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    oidcProviderUrl: "https://token.actions.githubusercontent.com",
    clientIds: ["sts.amazonaws.com"],
    thumbprints: ["a031c46782e6e6c662c2c87c76da9aa62ccabd8e"],
    repositoryConfig: [
        { owner: "sdh100shaun", repo: "2024.lincolnhack.org", filter: "ref:refs/heads/main" },
    ],
});
new artefact_bucket_1.artefactBucket(app, "artefactBucket", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    bucketname: "lincolnhack-artefacts",
});
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZDQUFrQztBQUNsQyw0RkFBcUU7QUFDckUsd0RBQTBEO0FBQzFELGdEQUErQztBQUMvQyw4REFBMEQ7QUFFMUQsTUFBTSxHQUFHLEdBQUcsSUFBSSxpQkFBRyxFQUFFLENBQUM7QUFHdEIsSUFBSSwyQ0FBVSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUU7SUFDMUIsR0FBRyxFQUFFO1FBQ0gsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQztRQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDO0tBQ3pDO0lBQ0QsVUFBVSxFQUFFLHNCQUFzQjtJQUNsQyxZQUFZLEVBQUUsdUJBQXVCO0NBQ3RDLENBQUMsQ0FBQztBQUVILElBQUksMkNBQVUsQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFO0lBQzlCLEdBQUcsRUFBRTtRQUNILE9BQU8sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUM7UUFDMUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztLQUN6QztJQUNELFVBQVUsRUFBRSwyQkFBMkI7SUFDdkMsWUFBWSxFQUFFLHVCQUF1QjtDQUN0QyxDQUFDLENBQUM7QUFFSCxJQUFJLGdDQUFpQixDQUFDLEdBQUcsRUFBRSxjQUFjLEVBQUU7SUFDdkMsR0FBRyxFQUFFO1FBQ0QsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQztRQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDO0tBQzNDO0lBQ0QsVUFBVSxFQUFFLHNCQUFzQjtJQUNsQyxZQUFZLEVBQUUsdUJBQXVCO0NBQ3hDLENBQUMsQ0FBQztBQUVILElBQUksa0JBQWMsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLEVBQUU7SUFDdEMsR0FBRyxFQUFFO1FBQ0QsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQztRQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDO0tBQzNDO0lBQ0QsZUFBZSxFQUFFLDZDQUE2QztJQUM5RCxTQUFTLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQztJQUNoQyxXQUFXLEVBQUUsQ0FBQywwQ0FBMEMsQ0FBQztJQUN6RCxnQkFBZ0IsRUFBRTtRQUNaLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxFQUFFLHFCQUFxQixFQUFFO0tBQ3RGO0NBQ0YsQ0FBQyxDQUFDO0FBRVQsSUFBSSxnQ0FBYyxDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsRUFBRTtJQUN4QyxHQUFHLEVBQUU7UUFDSCxPQUFPLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO1FBQzFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7S0FDekM7SUFDRCxVQUFVLEVBQUUsdUJBQXVCO0NBQ3BDLENBQUMsQ0FBQztBQUVILEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcCB9IGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IFN0YXRpY1NpdGUgfSBmcm9tIFwiLi9zdGFja3MvczMtc3RhdGljLXNpdGUtd2l0aC1jbG91ZGZyb250XCI7XG5pbXBvcnQgeyBTdGF0ZU1hY2hpbmVTdGFjayB9IGZyb20gJy4vc3RhY2tzL3N0YXRlbWFjaGluZSc7XG5pbXBvcnQgT2lkY0Nvbm5lY3Rpb24gZnJvbSAnLi9zdGFja3Mvb2lkY3JvbGUnO1xuaW1wb3J0IHsgYXJ0ZWZhY3RCdWNrZXQgfSBmcm9tICcuL3N0YWNrcy9hcnRlZmFjdC1idWNrZXQnO1xuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cblxubmV3IFN0YXRpY1NpdGUoYXBwLCBcInNpdGVcIiwge1xuICBlbnY6IHtcbiAgICBhY2NvdW50OiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwiYWNjb3VudFwiKSxcbiAgICByZWdpb246IGFwcC5ub2RlLnRyeUdldENvbnRleHQoXCJyZWdpb25cIiksXG4gIH0sXG4gIGRvbWFpbk5hbWU6IFwiMjAyNC5saW5jb2xuaGFjay5vcmdcIixcbiAgaG9zdGVkWm9uZUlkOiBcIlowODQ4MzAwMjRDTTY3STlDQUQ3MFwiLFxufSk7XG5cbm5ldyBTdGF0aWNTaXRlKGFwcCwgXCJkZW1vc2l0ZVwiLCB7XG4gIGVudjoge1xuICAgIGFjY291bnQ6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoXCJhY2NvdW50XCIpLFxuICAgIHJlZ2lvbjogYXBwLm5vZGUudHJ5R2V0Q29udGV4dChcInJlZ2lvblwiKSxcbiAgfSxcbiAgZG9tYWluTmFtZTogXCJkZW1vLjIwMjQubGluY29sbmhhY2sub3JnXCIsXG4gIGhvc3RlZFpvbmVJZDogXCJaMDg0ODMwMDI0Q002N0k5Q0FENzBcIixcbn0pO1xuXG5uZXcgU3RhdGVNYWNoaW5lU3RhY2soYXBwLCBcIlN0YXRlTWFjaGluZVwiLCB7XG4gICAgZW52OiB7XG4gICAgICAgIGFjY291bnQ6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoXCJhY2NvdW50XCIpLFxuICAgICAgICByZWdpb246IGFwcC5ub2RlLnRyeUdldENvbnRleHQoXCJyZWdpb25cIiksXG4gICAgfSxcbiAgICBkb21haW5OYW1lOiBcIjIwMjQubGluY29sbmhhY2sub3JnXCIsXG4gICAgaG9zdGVkWm9uZUlkOiBcIlowODQ4MzAwMjRDTTY3STlDQUQ3MFwiLFxufSk7XG5cbm5ldyBPaWRjQ29ubmVjdGlvbihhcHAsIFwiT2lkY0Nvbm5lY3Rpb25cIiwge1xuICAgIGVudjoge1xuICAgICAgICBhY2NvdW50OiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwiYWNjb3VudFwiKSxcbiAgICAgICAgcmVnaW9uOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwicmVnaW9uXCIpLFxuICAgIH0sXG4gICAgb2lkY1Byb3ZpZGVyVXJsOiBcImh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb21cIixcbiAgICBjbGllbnRJZHM6IFtcInN0cy5hbWF6b25hd3MuY29tXCJdLFxuICAgIHRodW1icHJpbnRzOiBbXCJhMDMxYzQ2NzgyZTZlNmM2NjJjMmM4N2M3NmRhOWFhNjJjY2FiZDhlXCJdLFxuICAgIHJlcG9zaXRvcnlDb25maWc6IFtcbiAgICAgICAgICB7IG93bmVyOiBcInNkaDEwMHNoYXVuXCIsIHJlcG86IFwiMjAyNC5saW5jb2xuaGFjay5vcmdcIiwgZmlsdGVyOiBcInJlZjpyZWZzL2hlYWRzL21haW5cIiB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbm5ldyBhcnRlZmFjdEJ1Y2tldChhcHAsIFwiYXJ0ZWZhY3RCdWNrZXRcIiwge1xuICBlbnY6IHtcbiAgICBhY2NvdW50OiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwiYWNjb3VudFwiKSxcbiAgICByZWdpb246IGFwcC5ub2RlLnRyeUdldENvbnRleHQoXCJyZWdpb25cIiksXG4gIH0sXG4gIGJ1Y2tldG5hbWU6IFwibGluY29sbmhhY2stYXJ0ZWZhY3RzXCIsXG59KTtcblxuYXBwLnN5bnRoKCk7Il19