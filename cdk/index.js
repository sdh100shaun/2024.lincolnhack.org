"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_cdk_lib_1 = require("aws-cdk-lib");
const s3_static_site_with_cloudfront_1 = require("./stacks/s3-static-site-with-cloudfront");
const statemachine_1 = require("./stacks/statemachine");
const oidcrole_1 = require("./stacks/oidcrole");
const app = new aws_cdk_lib_1.App();
new s3_static_site_with_cloudfront_1.StaticSite(app, "site", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    domainName: "2024.lincolnhack.org",
    hostedZoneId: "Z084830024CM67I9CAD70",
});
new s3_static_site_with_cloudfront_1.StaticSite(app, "demosite", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    domainName: "demo.2024.lincolnhack.org",
    hostedZoneId: "Z084830024CM67I9CAD70",
});
new statemachine_1.StateMachineStack(app, "StateMachine", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    domainName: "2024.lincolnhack.org",
    hostedZoneId: "Z084830024CM67I9CAD70",
});
new oidcrole_1.default(app, "OidcConnection", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    oidcProviderUrl: "https://token.actions.githubusercontent.com",
    clientIds: ["sts.amazonaws.com"],
    thumbprints: ["a031c46782e6e6c662c2c87c76da9aa62ccabd8e"],
    repositoryConfig: [
        { owner: "sdh100shaun", repo: "lincolnhack2024", filter: "ref:refs/heads/main" },
    ],
});
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZDQUFrQztBQUNsQyw0RkFBcUU7QUFDckUsd0RBQTBEO0FBQzFELGdEQUErQztBQUUvQyxNQUFNLEdBQUcsR0FBRyxJQUFJLGlCQUFHLEVBQUUsQ0FBQztBQUd0QixJQUFJLDJDQUFVLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRTtJQUMxQixHQUFHLEVBQUU7UUFDSCxPQUFPLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO1FBQzFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7S0FDekM7SUFDRCxVQUFVLEVBQUUsc0JBQXNCO0lBQ2xDLFlBQVksRUFBRSx1QkFBdUI7Q0FDdEMsQ0FBQyxDQUFDO0FBRUgsSUFBSSwyQ0FBVSxDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUU7SUFDOUIsR0FBRyxFQUFFO1FBQ0gsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQztRQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDO0tBQ3pDO0lBQ0QsVUFBVSxFQUFFLDJCQUEyQjtJQUN2QyxZQUFZLEVBQUUsdUJBQXVCO0NBQ3RDLENBQUMsQ0FBQztBQUVILElBQUksZ0NBQWlCLENBQUMsR0FBRyxFQUFFLGNBQWMsRUFBRTtJQUN2QyxHQUFHLEVBQUU7UUFDRCxPQUFPLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO1FBQzFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7S0FDM0M7SUFDRCxVQUFVLEVBQUUsc0JBQXNCO0lBQ2xDLFlBQVksRUFBRSx1QkFBdUI7Q0FDeEMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxrQkFBYyxDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsRUFBRTtJQUN0QyxHQUFHLEVBQUU7UUFDRCxPQUFPLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO1FBQzFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7S0FDM0M7SUFDRCxlQUFlLEVBQUUsNkNBQTZDO0lBQzlELFNBQVMsRUFBRSxDQUFDLG1CQUFtQixDQUFDO0lBQ2hDLFdBQVcsRUFBRSxDQUFDLDBDQUEwQyxDQUFDO0lBQ3pELGdCQUFnQixFQUFFO1FBQ1osRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxpQkFBaUIsRUFBRSxNQUFNLEVBQUUscUJBQXFCLEVBQUU7S0FDakY7Q0FDRixDQUFDLENBQUM7QUFFVCxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHAgfSBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgeyBTdGF0aWNTaXRlIH0gZnJvbSBcIi4vc3RhY2tzL3MzLXN0YXRpYy1zaXRlLXdpdGgtY2xvdWRmcm9udFwiO1xuaW1wb3J0IHsgU3RhdGVNYWNoaW5lU3RhY2sgfSBmcm9tICcuL3N0YWNrcy9zdGF0ZW1hY2hpbmUnO1xuaW1wb3J0IE9pZGNDb25uZWN0aW9uIGZyb20gJy4vc3RhY2tzL29pZGNyb2xlJztcblxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuXG5cbm5ldyBTdGF0aWNTaXRlKGFwcCwgXCJzaXRlXCIsIHtcbiAgZW52OiB7XG4gICAgYWNjb3VudDogYXBwLm5vZGUudHJ5R2V0Q29udGV4dChcImFjY291bnRcIiksXG4gICAgcmVnaW9uOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwicmVnaW9uXCIpLFxuICB9LFxuICBkb21haW5OYW1lOiBcIjIwMjQubGluY29sbmhhY2sub3JnXCIsXG4gIGhvc3RlZFpvbmVJZDogXCJaMDg0ODMwMDI0Q002N0k5Q0FENzBcIixcbn0pO1xuXG5uZXcgU3RhdGljU2l0ZShhcHAsIFwiZGVtb3NpdGVcIiwge1xuICBlbnY6IHtcbiAgICBhY2NvdW50OiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwiYWNjb3VudFwiKSxcbiAgICByZWdpb246IGFwcC5ub2RlLnRyeUdldENvbnRleHQoXCJyZWdpb25cIiksXG4gIH0sXG4gIGRvbWFpbk5hbWU6IFwiZGVtby4yMDI0LmxpbmNvbG5oYWNrLm9yZ1wiLFxuICBob3N0ZWRab25lSWQ6IFwiWjA4NDgzMDAyNENNNjdJOUNBRDcwXCIsXG59KTtcblxubmV3IFN0YXRlTWFjaGluZVN0YWNrKGFwcCwgXCJTdGF0ZU1hY2hpbmVcIiwge1xuICAgIGVudjoge1xuICAgICAgICBhY2NvdW50OiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwiYWNjb3VudFwiKSxcbiAgICAgICAgcmVnaW9uOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwicmVnaW9uXCIpLFxuICAgIH0sXG4gICAgZG9tYWluTmFtZTogXCIyMDI0LmxpbmNvbG5oYWNrLm9yZ1wiLFxuICAgIGhvc3RlZFpvbmVJZDogXCJaMDg0ODMwMDI0Q002N0k5Q0FENzBcIixcbn0pO1xuXG5uZXcgT2lkY0Nvbm5lY3Rpb24oYXBwLCBcIk9pZGNDb25uZWN0aW9uXCIsIHtcbiAgICBlbnY6IHtcbiAgICAgICAgYWNjb3VudDogYXBwLm5vZGUudHJ5R2V0Q29udGV4dChcImFjY291bnRcIiksXG4gICAgICAgIHJlZ2lvbjogYXBwLm5vZGUudHJ5R2V0Q29udGV4dChcInJlZ2lvblwiKSxcbiAgICB9LFxuICAgIG9pZGNQcm92aWRlclVybDogXCJodHRwczovL3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tXCIsXG4gICAgY2xpZW50SWRzOiBbXCJzdHMuYW1hem9uYXdzLmNvbVwiXSxcbiAgICB0aHVtYnByaW50czogW1wiYTAzMWM0Njc4MmU2ZTZjNjYyYzJjODdjNzZkYTlhYTYyY2NhYmQ4ZVwiXSxcbiAgICByZXBvc2l0b3J5Q29uZmlnOiBbXG4gICAgICAgICAgeyBvd25lcjogXCJzZGgxMDBzaGF1blwiLCByZXBvOiBcImxpbmNvbG5oYWNrMjAyNFwiLCBmaWx0ZXI6IFwicmVmOnJlZnMvaGVhZHMvbWFpblwiIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcblxuYXBwLnN5bnRoKCk7Il19